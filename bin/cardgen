#!/usr/bin/env node

var cardgen = require("../lib/cardgen");
var argv = require('minimist')(process.argv.slice(2));
var fs = require("fs");

var vendors = argv._;
var repeat = argv.n || vendors.length;

vendors.forEach(function(el) {
	var path = __dirname + "/../vendors/" + el + ".js";
	if ( fs.statSync(path) ) {

		var vendor = require(path);
		cardgen.register(vendor);
	}
});

for (; repeat --> 0  ;) {

	var card = cardgen.generate();
	console.log(card.type, card.number);
}
