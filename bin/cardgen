#!/usr/bin/env node

var cardgen = require("../lib/cardgen");
var argv = require('minimist')(process.argv.slice(2));

var vendors = argv._;
var repeat = argv.r || 1;

vendors.forEach(function(el) {
	var vendor = require(__dirname + "/../vendors/" + el);
	debugger;
	cardgen.register(vendor);
});

for (; repeat --> 0  ;) {

	var card = cardgen.generate();
	console.log(card.type, card.number);
}
